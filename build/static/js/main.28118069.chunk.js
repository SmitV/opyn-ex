(this.webpackJsonpopyn=this.webpackJsonpopyn||[]).push([[0],{19:function(e,t,n){},20:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n.n(a),s=n(13),i=n.n(s),o=(n(19),n(3)),r=n(4),l=n(8),h=n(6),u=n(5);function d(e){if(e)return e.substring(0,4)+"..."+e.substring(e.length-4,e.length)}n(20);var j=n(0),b=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={navOptions:["Trade","Analytics","Team","Contact"],account:"",isConnected:!1},a}return Object(r.a)(n,[{key:"connectAccounts",value:function(){var e=this;window.ethereum&&window.ethereum.request({method:"eth_requestAccounts"}).then((function(t){e.setState({account:t[0],isConnected:window.ethereum.isConnected()}),e.props.connect(window.ethereum.isConnected())})).catch((function(e){4001===e.code?console.log("Please connect to MetaMask."):console.error(e)}))}},{key:"render",value:function(){var e=this;return Object(j.jsxs)("nav",{className:"opyn-nav__container",children:[Object(j.jsx)("h2",{className:"opyn-nav__header",children:"opyn"}),Object(j.jsxs)("ul",{className:"opyn-nav__options",children:[this.state.navOptions.map((function(e){return Object(j.jsx)("li",{children:Object(j.jsx)("a",{href:"#",children:e})})})),this.state.isConnected?Object(j.jsx)("li",{className:"opyn-nav__connected-account",children:d(this.state.account)}):Object(j.jsx)("li",{children:Object(j.jsx)("button",{onClick:function(t){return e.connectAccounts(t)},className:"opyn-nav__connect-btn",children:"Connect"})})]})]})}}]),n}(c.a.Component),p=n(14),m=n(9),f=n(10),x=(n(27),function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).state={fromValue:"",toValue:"",regExp:/^[0-9]*[.,]?[0-9]*$/,primaryBtnText:"Connect Wallet",fromToken:{name:"oToken",price:90*Math.random()+10,balance:1e3},toToken:{name:"USDT",price:1,balance:1e4},showLoader:!1,isValid:!1},e}return Object(r.a)(n,[{key:"componentWillUpdate",value:function(e){e.connected&&"Connect Wallet"===this.state.primaryBtnText&&this.setState({primaryBtnText:"Swap"},(function(){this.isValid()}))}},{key:"handleInputChange",value:function(e){var t=e.target.value;(""==t||this.state.regExp.test(t))&&this.setState(Object(p.a)({},e.target.name,t),(function(){this.computeToToken(t),this.isValid()}))}},{key:"computeToToken",value:function(e){var t=this.state.fromToken.price/this.state.toToken.price;this.setState({toValue:(t*e).toFixed(2)})}},{key:"isValid",value:function(){var e=this.state.fromValue,t=this.state.fromToken,n=this.state.toToken;"Connect Wallet"!==this.state.primaryBtnText&&this.state.fromValue>0&&t.balance>0&&n.balance>0&&e<=t.balance?this.setState({isValid:!0}):this.setState({isValid:!1})}},{key:"handleSubmit",value:function(e){e.preventDefault(),"Connected Wallet"!==this.state.primaryBtnText&&this.computeTrade()}},{key:"computeTrade",value:function(){var e=this.state.fromToken,t=this.state.toToken;e.balance-=parseFloat(this.state.fromValue),t.balance+=parseFloat(this.state.toValue),this.setState({fromValue:"",toValue:"",fromToken:e,toToken:t},(function(){this.isValid()}))}},{key:"conversionLogic",value:function(){if(this.state.isValid){var e=this.state.fromToken.price/this.state.toToken.price;return Object(j.jsxs)("span",{children:["1 ",this.state.fromToken.name," =  ",e," ",this.state.toToken.name]})}return Object(j.jsx)("span",{children:"Insufficient balance, please try again"})}},{key:"handleSwapArrowClick",value:function(e){e.preventDefault(),this.setState({fromToken:this.state.toToken,toToken:this.state.fromToken})}},{key:"handleMaxClick",value:function(e){e.preventDefault();var t=this.state.fromToken.price/this.state.toToken.price;this.setState({fromValue:this.state.fromToken.balance,toValue:(t*this.state.fromToken.balance).toFixed(2)},(function(){this.isValid()}))}},{key:"render",value:function(){var e=this;return Object(j.jsx)("div",{className:"opyn-trade__modal-container",children:Object(j.jsxs)("div",{className:"opyn-trade__modal-contents",children:[Object(j.jsxs)("ul",{className:"opyn-trade__setting-options",children:[Object(j.jsx)("li",{children:Object(j.jsx)("button",{children:Object(j.jsx)(m.a,{icon:f.c})})}),Object(j.jsx)("li",{children:Object(j.jsx)("button",{children:Object(j.jsx)(m.a,{icon:f.b})})})]}),Object(j.jsxs)("form",{className:"opyn-trade__input-container",children:[Object(j.jsxs)("div",{children:[Object(j.jsxs)("label",{children:[Object(j.jsx)("span",{children:"Pay"}),Object(j.jsxs)("a",{onClick:function(t){return e.handleMaxClick(t)},href:"#",className:"opyn-trade__label-span opyn-trade__label-click",children:["Max: ",this.state.fromToken.balance]})]}),Object(j.jsx)("button",{className:"opyn-trade__token-btn",children:this.state.fromToken.name}),Object(j.jsx)("input",{onChange:function(t){return e.handleInputChange(t)},inputmode:"decimal",autocomplete:"off",type:"text",pattern:"^[0-9]*[.,]?[0-9]*$",placeholder:"0.0",minlength:"1",maxlength:"79",name:"fromValue",value:this.state.fromValue})]}),Object(j.jsx)("button",{onClick:function(t){return e.handleSwapArrowClick(t)},className:"opyn-trade__side-swap",children:Object(j.jsx)(m.a,{icon:f.a})}),Object(j.jsxs)("div",{children:[Object(j.jsxs)("label",{children:[Object(j.jsx)("span",{children:"Receive"}),Object(j.jsxs)("span",{className:"opyn-trade__label-span",children:["Available: ",this.state.toToken.balance]})]}),Object(j.jsx)("button",{className:"opyn-trade__token-btn",children:this.state.toToken.name}),Object(j.jsx)("input",{inputmode:"decimal",type:"text",placeholder:"0.0",name:"toValue",value:this.state.toValue})]}),Object(j.jsx)("div",{className:"opyn-trade__conv-container",children:this.conversionLogic()}),Object(j.jsxs)("ul",{className:"opyn-trade__detail-container",children:[Object(j.jsxs)("li",{children:[Object(j.jsx)("span",{children:"Slippage Tolerance"}),Object(j.jsx)("span",{children:"0.5%"})]}),Object(j.jsxs)("li",{children:[Object(j.jsx)("span",{children:"Minimum Received"}),Object(j.jsx)("span",{children:"0"})]})]}),Object(j.jsx)("button",{onClick:function(t){return e.handleSubmit(t)},className:this.state.isValid?"opyn-trade__primary-btn":"opyn-trade__primary-btn opyn-trade__primary-btn-invalid",children:this.state.primaryBtnText})]})]})})}}]),n}(c.a.Component)),O=(n(28),function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).state={isConnected:!1},e.connectCache=e.connectCache.bind(Object(l.a)(e)),e}return Object(r.a)(n,[{key:"connectCache",value:function(e){this.setState({isConnected:e})}},{key:"render",value:function(){return Object(j.jsxs)("div",{className:"opyn-main__container",children:[Object(j.jsx)(b,{connect:this.connectCache}),Object(j.jsx)(x,{connected:this.state.isConnected})]})}}]),n}(c.a.Component)),v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,30)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),s(e),i(e)}))};i.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(O,{})}),document.getElementById("root")),v()}},[[29,1,2]]]);
//# sourceMappingURL=main.28118069.chunk.js.map